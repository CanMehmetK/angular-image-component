{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/platform-browser\";\nexport let ImageComponent = /*#__PURE__*/(() => {\n  class ImageComponent {\n    constructor(domSanitizer) {\n      this.domSanitizer = domSanitizer;\n      this.multiple = false;\n      this.uFormControlName = 'file';\n    }\n\n    ngOnInit() {}\n\n    getImageBase64() {\n      var _a;\n\n      if (this.uFormGroup && ((_a = this.uFormGroup.get(this.uFormControlName)) === null || _a === void 0 ? void 0 : _a.value)) {\n        return this.domSanitizer.bypassSecurityTrustResourceUrl(this.base64Image);\n      }\n\n      return '';\n    }\n\n    onFileSelected($event) {\n      console.log($event);\n      const fileInput = $event.target;\n      const reader = new FileReader();\n\n      reader.onload = x => {\n        this.base64Image = reader.result;\n        if (this.uFormGroup) this.uFormGroup.get(this.uFormControlName).setValue(reader.result);\n        this.getImageBase64();\n      };\n\n      reader.readAsDataURL(fileInput.files[0]);\n    }\n\n  }\n\n  ImageComponent.ɵfac = function ImageComponent_Factory(t) {\n    return new (t || ImageComponent)(i0.ɵɵdirectiveInject(i1.DomSanitizer));\n  };\n\n  ImageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ImageComponent,\n    selectors: [[\"app-image\"]],\n    inputs: {\n      multiple: \"multiple\",\n      uFormGroup: \"uFormGroup\",\n      uFormControlName: \"uFormControlName\"\n    },\n    decls: 2,\n    vars: 1,\n    consts: [[2, \"max-width\", \"100%\", 3, \"src\"], [\"accept\", \"*.jpb,*.png\", \"id\", \"productImageFile\", \"type\", \"file\", 3, \"change\"]],\n    template: function ImageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"img\", 0);\n        i0.ɵɵelementStart(1, \"input\", 1);\n        i0.ɵɵlistener(\"change\", function ImageComponent_Template_input_change_1_listener($event) {\n          return ctx.onFileSelected($event);\n        });\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"src\", ctx.getImageBase64(), i0.ɵɵsanitizeUrl);\n      }\n    },\n    styles: [\"\"]\n  });\n  return ImageComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}