{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport * as i0 from \"@angular/core\";\nexport class ImageComponent {\n  constructor() {\n    this.multiple = false;\n  }\n\n  ngOnInit() {}\n\n  getImageBase64() {\n    var _a;\n\n    if ((_a = this.productForm.get('image')) === null || _a === void 0 ? void 0 : _a.value) {\n      return this.domSanitizer.bypassSecurityTrustResourceUrl(this.productForm.get('image').value);\n    }\n\n    return '';\n  }\n\n  onFileSelected($event) {\n    const fileInput = document.getElementById('productImageFile');\n    const reader = new FileReader();\n\n    reader.onload = x => {\n      this.productForm.get('image').setValue(reader.result);\n      this.getImageBase64();\n    };\n\n    reader.readAsDataURL(fileInput.files[0]);\n  }\n\n}\n\nImageComponent.ɵfac = function ImageComponent_Factory(t) {\n  return new (t || ImageComponent)();\n};\n\nImageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ImageComponent,\n  selectors: [[\"app-image\"]],\n  decls: 2,\n  vars: 1,\n  consts: [[2, \"max-width\", \"100%\", 3, \"src\"], [\"accept\", \"*.jpb,*.png\", \"id\", \"productImageFile\", \"type\", \"file\", 3, \"change\"]],\n  template: function ImageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"img\", 0);\n      i0.ɵɵelementStart(1, \"input\", 1);\n      i0.ɵɵlistener(\"change\", function ImageComponent_Template_input_change_1_listener($event) {\n        return ctx.onFileSelected($event);\n      });\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"src\", ctx.getImageBase64(), i0.ɵɵsanitizeUrl);\n    }\n  },\n  styles: [\"\"]\n});\n\n__decorate([Input()], ImageComponent.prototype, \"multiple\", void 0);","map":null,"metadata":{},"sourceType":"module"}